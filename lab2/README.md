# Список файлов и их краткое описание

* docker-compose.yaml - docker compose файл, содержащий все необходимые сервисы для работы (kakfa+zookeeper+kafka-ui)
* create-topic.sh - bash скрипт для создания топика, а так же вывода информации о созданном топике
* message.py - содержит класс сообщения Message, который отправляем/получаем
* app_cen.py - основное приложение которое обрабатывает сообщения
* message_sender.py - cli компоент, для отправки сообщений в топик messages
* block_user.py - cli компонент для добавление пользователй в блок
* blocked_users - католог с файлами по user_id. Кайждый файл содержит списко заблокированных пользователей
* bad_words.txt - список слов для цензуры

# Описание

Для работы необходимо поднять docker compose:
```shell
docker compose up -d
```

Для создания необходимых топиков
```shell
./create-topic.sh
```

Для начала работы приложения
```shell
faust -A app_cen worker -l INFO
```

Для отправки сообщения в топик
```shell
python message_sender.py --from_id 1 --to_id 2 --msg "Это сообщение будет заблокированно, малоко"
```
```
Аргументы
from_id - Идентификатор автора сообшщения
to_id - Идентификатор кому отправлено
msg - Текст сообщение
```

Для добавление пользователя в блок
```shell
python block_user.py --user_id 2 --blocked_id 1
```
```
Аргументы
user_id - Идентификатор пользователя кто блокирует
blocked_id - Идентификатор пользователя кого блокирует
```
# Краткие замечания

* Внутри 1 приложения используется 2 агента. Не стал выносить на 2 разных "микросервиса".
* Для более быстрого поиска заблокированных пользователей, имя файла в папке blocked_users = идентификатору автора сообщения. 
